/*!
 * InertiaPlugin 3.5.1
 * https://greensock.com
 * 
 * @license Copyright 2020, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).window=t.window||{})}(this,function(t){"use strict";function e(){return D||"undefined"!=typeof window&&(D=window.gsap)}function n(t){return A(t).id}function i(t){return F[n("string"==typeof t?E(t)[0]:t)]}function r(t){var e,n=T;if(.05<=t-S)for(S=t;n;)((e=n.g(n.t,n.p))!==n.v1||.2<t-n.t1)&&(n.v2=n.v1,n.v1=e,n.t2=n.t1,n.t1=t),n=n._next}function o(){(D=e())&&(E=D.utils.toArray,C=D.utils.getUnit,A=D.core.getCache,k=D.ticker,w=1)}function s(t,e,n,i){this.t=t,this.p=e,this.g=t._gsap.get,this.rCap=O[n||C(this.g(t,e))],this.v1=this.v2=0,this.t1=this.t2=k.time,i&&((this._next=i)._prev=this)}function a(){return P||"undefined"!=typeof window&&(P=window.gsap)&&P.registerPlugin&&P}function u(t){return"number"==typeof t}function l(t){return"object"==typeof t}function c(t){return"function"==typeof t}function h(t){return t}function f(t){return Math.round(1e4*t)/1e4}function d(t,e,n){for(var i in e)i in t||i===n||(t[i]=e[i]);return t}function p(t){var e,n,i={};for(e in t)i[e]=l(n=t[e])?p(n):n;return i}function m(t,e,n,i,r){var o,s,a,u,c=e.length,h=0,f=U;if(l(t)){for(;c--;){for(a in o=e[c],s=0,t)s+=(u=o[a]-t[a])*u;s<f&&(h=c,f=s)}if((r||U)<U&&r<Math.sqrt(f))return t}else for(;c--;)(s=(o=e[c])-t)<0&&(s=-s),s<f&&i<=o&&o<=n&&(h=c,f=s);return e[h]}function g(t,e,n,i,r,o){if("auto"===t.end)return t;var s,a,u=t.end;if(n=isNaN(n)?U:n,i=isNaN(i)?-U:i,l(e)){if(s=e.calculated?e:(c(u)?u(e):m(e,u,n,i,o))||e,!e.calculated){for(a in s)e[a]=s[a];e.calculated=!0}s=s[r]}else s=c(u)?u(e):Y(u)?m(e,u,n,i,o):parseFloat(u);return n<s?s=n:s<i&&(s=i),{max:s,min:s,unitFactor:t.unitFactor}}function v(t,e,n){return isNaN(t[e])?n:+t[e]}function y(t,e){return.05*e*t/$}function _(t,e,n){return Math.abs((e-t)*$/n/.05)}function b(t,e,n,i){if(e.linkedProps){var r,o,s,a,l,c,h=e.linkedProps.split(","),f={};for(r=0;r<h.length;r++)(s=e[o=h[r]])&&(a=u(s.velocity)?s.velocity:(l=l||X(t))&&l.isTracking(o)?l.get(o):0,c=Math.abs(a/v(s,"resistance",i)),f[o]=parseFloat(n(t,o))+y(a,c));return f}}function x(){(P=a())&&(N=P.parseEase,I=P.utils.toArray,B=P.utils.getUnit,q=P.core.getCache,H=P.utils.clamp,j=N("power3"),$=j(.05),z=P.core.PropTween,P.config({resistance:100,unitFactors:{time:1e3,totalTime:1e3,progress:1e3,totalProgress:1e3}}),R=P.config(),P.registerPlugin(M),L=1)}var D,w,E,C,T,k,S,A,F={},O={deg:360,rad:2*Math.PI},M=function(){function t(t,e){w||o(),this.target=E(t)[0],(F[n(this.target)]=this)._props={},e&&this.add(e)}t.register=function(t){D=t,o()};var e=t.prototype;return e.get=function(t,e){var n,i,r=this._props[t]||console.warn("Not tracking "+t+" velocity.");return n=parseFloat(e?r.v1:r.g(r.t,r.p))-parseFloat(r.v2),(i=r.rCap)&&(n%=i)!==n%(i/2)&&(n=n<0?n+i:n-i),function(t){return Math.round(1e4*t)/1e4}(n/((e?r.t1:k.time)-r.t2))},e.getAll=function(){var t,e={},n=this._props;for(t in n)e[t]=this.get(t);return e},e.isTracking=function(t){return t in this._props},e.add=function(t,e){t in this._props||(T||(k.add(r),S=k.time),T=this._props[t]=new s(this.target,t,e,T))},e.remove=function(t){var e,n,i=this._props[t];i&&(e=i._prev,n=i._next,e&&(e._next=n),n?n._prev=e:T===i&&(k.remove(r),T=0),delete this._props[t])},e.kill=function(t){for(var e in this._props)this.remove(e);t||delete F[n(this.target)]},t.track=function(e,n,r){w||o();for(var s,a,u=[],l=E(e),c=n.split(","),h=(r||"").split(","),f=l.length;f--;){for(s=i(l[f])||new t(l[f]),a=c.length;a--;)s.add(c[a],h[a]||h[0]);u.push(s)}return u},t.untrack=function(t,e){var n=(e||"").split(",");E(t).forEach(function(t){var e=i(t);e&&(n.length?n.forEach(function(t){return e.remove(t)}):e.kill(1))})},t.isTracking=function(t,e){var n=i(t);return n&&n.isTracking(e)},t.getVelocity=function(t,e){var n=i(t);return n&&n.isTracking(e)?n.get(e):console.warn("Not tracking velocity of "+e)},t}();M.getByTarget=i,e()&&D.registerPlugin(M);var P,L,N,I,j,R,B,z,q,$,H,W,X=M.getByTarget,Y=Array.isArray,U=1e10,V={resistance:1,checkpoint:1,preventOvershoot:1,linkedProps:1,radius:1,duration:1},Q={version:"3.5.1",name:"inertia",register:function(t){P=t,x()},init:function(t,e,n,i,r){L||x();var o=X(t);if("auto"===e){if(!o)return void console.warn("No inertia tracking on "+t+". InertiaPlugin.track(target) first.");e=o.getAll()}this.target=t,this.tween=n,W=e;var s,a,f,m,D,w,E,C,T,k=t._gsap,S=k.get,A=e.duration,F=l(A),O=e.preventOvershoot||F&&0===A.overshoot,M=v(e,"resistance",R.resistance),P=u(A)?A:function(t,e,n,i,r,o){if(void 0===n&&(n=10),void 0===i&&(i=.2),void 0===r&&(r=1),void 0===o&&(o=0),function(t){return"string"==typeof t}(t)&&(t=I(t)[0]),!t)return 0;var s,a,c,h,f,m,x,D,w,E,C=0,T=U,k=e.inertia||e,S=q(t).get,A=v(k,"resistance",R.resistance);for(s in E=b(t,k,S,A),k)V[s]||(a=k[s],l(a)||((D=D||X(t))&&D.isTracking(s)?a=u(a)?{velocity:a}:{velocity:D.get(s)}:(h=+a||0,c=Math.abs(h/A))),l(a)&&(h=u(a.velocity)?a.velocity:(D=D||X(t))&&D.isTracking(s)?D.get(s):0,c=H(i,n,Math.abs(h/v(a,"resistance",A))),m=(f=parseFloat(S(t,s))||0)+y(h,c),"end"in a&&(a=g(a,E&&s in E?E:m,a.max,a.min,s,k.radius),o&&(W===e&&(W=k=p(e)),k[s]=d(a,k[s],"end"))),"max"in a&&m>+a.max+1e-10?(w=a.unitFactor||R.unitFactors[s]||1,(x=f>a.max&&a.min!==a.max||-15<h*w&&h*w<45?i+.1*(n-i):_(f,a.max,h))+r<T&&(T=x+r)):"min"in a&&m<a.min-1e-10&&(w=a.unitFactor||R.unitFactors[s]||1,(x=f<a.min&&a.min!==a.max||-45<h*w&&h*w<15?i+.1*(n-i):_(f,a.min,h))+r<T&&(T=x+r)),C<x&&(C=x)),C<c&&(C=c));return T<C&&(C=T),n<C?n:C<i?i:C}(t,e,F&&A.max||10,F&&A.min||.2,F&&"overshoot"in A?+A.overshoot:O?0:1,!0);for(s in e=W,W=0,T=b(t,e,S,M),e)V[s]||(a=e[s],c(a)&&(a=a(i,t,r)),u(a)?D=a:l(a)&&!isNaN(a.velocity)?D=+a.velocity:o&&o.isTracking(s)?D=o.get(s):console.warn("ERROR: No velocity was defined for "+t+" property: "+s),w=y(D,P),C=0,f=S(t,s),m=B(f),f=parseFloat(f),l(a)&&(E=f+w,"end"in a&&(a=g(a,T&&s in T?T:E,a.max,a.min,s,e.radius)),"max"in a&&+a.max<E?O||a.preventOvershoot?w=a.max-f:C=a.max-f-w:"min"in a&&+a.min>E&&(O||a.preventOvershoot?w=a.min-f:C=a.min-f-w)),this._props.push(s),this._pt=new z(this._pt,t,s,f,0,h,0,k.set(t,s,this)),this._pt.u=m||0,this._pt.c1=w,this._pt.c2=C);return n.duration(P),1},render:function(t,e){var n=e._pt;for(t=j(e.tween._time/e.tween._dur);n;)n.set(n.t,n.p,f(n.s+n.c1*t+n.c2*t*t)+n.u,n.d,t),n=n._next}};"track,untrack,isTracking,getVelocity,getByTarget".split(",").forEach(function(t){return Q[t]=M[t]}),a()&&P.registerPlugin(Q),t.InertiaPlugin=Q,t.VelocityTracker=M,t.default=Q,"undefined"==typeof window||window!==t?Object.defineProperty(t,"__esModule",{value:!0}):delete t.default});